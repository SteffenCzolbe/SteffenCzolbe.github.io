<!DOCTYPE html>
<html>

  <head>
    
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>

  Steffen Czolbe


  | Spot the difference

</title>
<meta name="description" content="Steffen Czolbe's Website
">

<!-- Open Graph -->

<meta property="og:site_name" content="Steffen Czolbe's Website
" />
<meta property="og:type" content="object" />
<meta property="og:title" content="" />
<meta property="og:url" content="https://steffenczolbe.github.io/projects/2021-11-neurips2021_topology/" />
<meta property="og:description" content="Spot the difference" />
<meta property="og:image" content="assets/img/prof_pic.jpg" />


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->

<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⇄</text></svg>">

<link rel="stylesheet" href="/assets/css/main.css">
<link rel="canonical" href="/projects/2021-11-neurips2021_topology/">


<!-- Dark Mode -->
<script src="/assets/js/theme.js"></script>
<script src="/assets/js/dark_mode.js"></script>



  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://steffenczolbe.github.io/">
       Steffen Czolbe
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              About
              
            </a>
          </li>
          
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              
                <a class="nav-link" href="https://www.linkedin.com/in/steffen-czolbe/" target="_blank" rel="noopener noreferrer">
                  CV
                  
                </a>
              
          </li>
          
          
          
          
          
          
          
          <li class="nav-item ">
              
                <a class="nav-link" href="/projects/">
                  Projects
                  
                </a>
              
          </li>
          
          
          
          
          
          <li class="nav-item ">
              
                <a class="nav-link" href="/publications/">
                  Publications
                  
                </a>
              
          </li>
          
          
          
          
          
          <li class="nav-item ">
              
                <a class="nav-link" href="/teaching/">
                  Teaching
                  
                </a>
              
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            <div class="toggle-container">
              <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      <div class="post">

  <header class="post-header">
    <h1 class="post-title">Spot the difference</h1>
    <h2 class="post-description">Can we detect when geometric alignment algorithms go crazy?</h2>
  </header>

  <article>
    <p>At NeurIPS 2021, we introduce the first unsupervised, learning based method for detecting changes in image topology. In additioan, we introduce the first dataset of manually annotated changes in topology, which allows us to significantly extend on the evaluation strategies employed in of previous work.</p>

<h3 id="the-problem">The Problem</h3>

<p>Alignment of distributions or images often assumes a common topology across the images, with undefined behaviour if this assumption is violated. Yet in practice, we are often especially interested in these cases where image topology is different or abnormal. For example in medical imaging, the patient we are inspecting is likely in treatment because their anatomy does not follow a ‘standard’, but is abnormal in some way - e.g. by a brain tumor.</p>

<p>Alignment and registration methods that can handle differing topologies exist, but require the prior annotation of the changes in topology - we aim to provide an unsupervised method to detect the changes in topology.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        


<img class="img-fluid rounded z-depth-1" src="/assets/resized/topology_detection-800x286.png" srcset="    /assets/resized/topology_detection-480x172.png 480w,    /assets/resized/topology_detection-800x286.png 800w,/ assets/img/topology_detection.png 1034w" title="Two neighboring image slices show a change in the topology of the cell. Our unsupervised method can detect the change.">

    </div>
</div>
<div class="caption">
    Left+Center: Topological change between two neighboring image slices show a change in the topology of the cell. Right: Our unsupervised method can detect the change.
</div>

<h3 id="solution">Solution</h3>

<p>We base our method on probabilistic registration models, using a VAE to give pixel-wise bounds on the likelihood of a diffeomorphic match. We extend prior work by re-defining the output distribution and eliminating hyperparameters in the prior. For validation, we introduce the first dataset with annotated topological changes to aid evaluation in this field, which has been relying on qualitative assessment of small sample sizes and proxy-tasks before.</p>

<h3 id="results">Results</h3>

<p>The new method outperforms baselines from topological change detection and anomaly detection by a large margin, and competes with supervised models on one of the datasets.</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        


<img class="img-fluid rounded z-depth-1" src="/assets/resized/topology-cells-800x501.png" srcset="    /assets/resized/topology-cells-480x301.png 480w,    /assets/resized/topology-cells-800x501.png 800w,/ assets/img/topology-cells.png 988w" title="img">

    </div>
</div>
<div class="caption">
    Topological differences detected by our method, cell dataset. Neighboring slices $$\mathbf{I}, \mathbf{J}$$ in rows 1 and 2. Heatmaps of the likelihood of topological differences detected with $$L_\text{sym}$$ in row 3. Heatmaps are overlayed on image $$\mathbf{J}$$ to ease comparison. Annotated topological differences used for evaluation outlined in red. Note that only a subset of topological anomalies present is annotated in our dataset.
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        


<img class="img-fluid rounded z-depth-1" src="/assets/resized/topology-brains-480x507.png" srcset="    /assets/resized/topology-brains-480x507.png 480w,/ assets/img/topology-brains.png 697w" title="img">

    </div>
</div>
<div class="caption">
    Topological differences detected by our method, brain dataset. Structurally normal brain $$\mathbf{I}$$ in column 1, brain with tumor $$\mathbf{J}$$ in column 2. Heatmaps of the likelihood of topological differences detected with $$L_\text{sym}$$ in columns 3, 4 . Likelihood of topological differences caused by the structural anomaly in columns 5, 6. Contour of the ground truth brain tumor in red. Heatmaps are overlayed on image J to ease comparison.
</div>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        


<img class="img-fluid rounded z-depth-1" src="/assets/resized/topology-auc-800x233.png" srcset="    /assets/resized/topology-auc-480x140.png 480w,    /assets/resized/topology-auc-800x233.png 800w,/ assets/img/topology-auc.png 1001w" title="img">

    </div>
</div>
<div class="caption">
   Receiver operating characteristic curves (ROC) and area under the curve (AUC) for detecting topological changes on the cell and brain datasets. We test models of our method for unsupervised topological change detection, trained with a semantic loss function and the MSE in the reconstruction term, and compare against unsupervised baselines from image registration (Li and Wyatt, Jacobian Determinant) and unsupervised anomaly detection (An and Cho). For reference, we also include a supervised segmentation model, which has been trained on the ground truth annotations.
</div>
<p>Code available on <a href="https://github.com/SteffenCzolbe/TopologicalChangeDetection" target="_blank" rel="noopener noreferrer">Github</a>.</p>

<h3 id="video">Video</h3>

<iframe width="560" height="315" src="https://www.youtube.com/embed/MQ4GvM0up5c" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

  </article>

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    © Copyright 2021 <b>Steffen</b>  Czolbe.
    Powered by <a href="http://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>.

    
    
    Last updated: November 17, 2021.
    
  </div>
</footer>



  </body>

  <!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Medium Zoom JS -->
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
<script src="/assets/js/zoom.js"></script>


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

  
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  





</html>
